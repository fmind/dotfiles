### ZSH Configuration ###

# Path to oh-my-zsh installation.
export ZSH=~/.oh-my-zsh

# Set name of the theme to load.
ZSH_THEME="freaxmind"

# Uncomment the following line to change the command execution time
HIST_STAMPS="yyyy-mm-dd"

# Would you like to use another custom folder than $ZSH/custom?
ZSH_CUSTOM=$HOME/.my-config/zsh

# Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)
plugins=(catimg command-not-found docker encode64 httpie gitfast jsontools lein lol python sudo urltools web-search wd)

## INCLUDES

# set PATH
export PATH="$HOME/bin:$HOME/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"

# set PROXY
[ -f ~/ENABLE_PROXY ] && {
    export HTTP_PROXY=`cat ~/ENABLE_PROXY`
    export http_proxy=$HTTP_PROXY
    export HTTPS_PROXY=$HTTP_PROXY
    export https_proxy=$HTTP_PROXY
    export FTP_PROXY=$HTTP_PROXY
    export ftp_proxy=$HTTP_PROXY
    export no_proxy=localhost
    export NO_PROXY=localhost
}

### User configuration ###

# Make ZSH Awesome !
source $ZSH/oh-my-zsh.sh

# Enable Byobu
_byobu_sourced=1 . /usr/bin/byobu-launch 2>/dev/null || true

# Add support for 256 colors
export TERM=screen-256color

# Preferred language for local and remote sessions
export LANG=en_US.UTF-8

# Preferred editor for local and remote sessions
export EDITOR='vim'

# remap caps lock backspace
setxkbmap -option caps:escape

# set umask
umask 0077

if [ -f ~/.otherc ]; then
    . ~/.otherc
fi

### Alias Configuration ###

# Alias: GLOBAL
alias -g H='| head'
alias -g T='| tail'
alias -g G='| grep'
alias -g L='| less'
alias -g X='| xclip -selection c'
alias -g P=':$PATH'

# Alias: BASICS
alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."
alias .....="cd ../../../.."
alias back="cd $OLDPWD"
alias chx="chmod u+x "
alias cmount="mount | column -t"
alias ipinfo="curl ifconfig.me && curl ifconfig.me/host"
alias igrep="grep -i"
backup() { cp "$1"{,.bak}; }

# Alias: QUICK ACCESS
c() { cd "$1"; ls;}
alias x="exit"
alias o="xdg-open"
alias f='nautilus . &'
alias v="vim"
alias vi="vim"
alias vir="vim -R"
alias vis="sudo vim"
alias vimrc='vi ~/.vimrc'
alias e="emacs -nw"
alias ee="emacs . &"
alias es="sudo emacs -nw"
alias er="emacs -nw --eval '(setq buffer-read-only t)'"
alias f="ranger"
alias extip='curl icanhazip.com'
alias kila='killall -9'
alias serve='python3 -m http.server'
alias zshrc='$EDITOR ~/.zshrc'
alias zshsrc='source ~/.zshrc'

# Alias: PROGRAMMING
## Python
alias py2="python2"
alias py3="python3"
alias pyp="pip3"
alias pypu="pip3 install --user"
alias pyd="ipdb"
alias pyh="pydoc"
alias pys="ipython --profile=freaxmind"
alias pyn="jupyter-notebook  --profile=freaxmind"
alias pyk="ipython kernel --profile=freaxmind"
alias pyc="ipcluster start -n 8"
alias pyv="source venv/bin/activate"
alias pyv-create="virtualenv --distribute --no-site-packages venv"
## Clojure
alias cljrc="$EDITOR ~/.lein/profiles.clj"
alias clja="lein ancient"
alias cljap="lein ancient check-profiles"
alias clje="lein exec"
alias cljr="lein repl"
cljrp() { lein with-profile "$1" repl } 
## Java
alias jajar="java -jar"
## Ansible
alias anpl="ansible-playbook"
alias anpls="ansible-playbook --ask-become"
## Others
alias ck="cookiecutter"
alias dk="docker"
alias g="git"
alias grc="$EDITOR ~/.gitconfig"

# Alias: DATA ANALYSIS
alias pjs="python3 -m json.tool"
alias pysparkn='docker run -p 8888:8888 -v "$(pwd)":/home/jovyan/work jupyter/pyspark-notebook'
alias pyscipyn="docker run -p 8888:8888 -v $(pwd):/home/jovyan/work jupyter/scipy-notebook"

# Alias: IMAGE
alias imgwhite="convert -flatten "

# Alias: DISTRIBUTION (Ubuntu)
alias search="apt-cache search"
alias install="sudo apt-get install"
alias remove="sudo apt-get remove --purge"
alias update="sudo apt-get update"
alias upgrade="sudo apt-get upgrade"
alias clean="sudo apt-get clean"
alias autoclean="sudo apt-get autoclean"
alias autoremove="sudo apt-get autoremove --purge"
alias dist-upgrade="sudo apt-get dist-upgrade"
alias alert='notify-send --urgency=low -i "$([ $? = 0 ] && echo terminal || echo error)" "$(history|tail -n1|sed -e '\''s/^\s*[0-9]\+\s*//;s/[;&|]\s*alert$//'\'')"'

# Alias: PROJECT
alias slides="git clone git@github.com:freaxmind/my-slides"
alias httpserve="python3 -m http.server"
