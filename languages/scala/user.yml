---

- hosts: localhost
  connection: local
  become: no

  tasks:

  - name: Creating ~/.ammonite directory
    file: path="~/.ammonite" state=directory

  - name: Creating ~/.sbt/0.13/plugins/ directory
    file: path="~/.sbt/0.13/plugins/" state=directory

  - name: Installing scala better repl (ammonite)
    get_url: url="https://git.io/vdNv2" dest="~/bin/amm" mode=0750

  - name: Deploying plugins configuration (sbt)
    file: src="{{playbook_dir}}/plugins.sbt" dest="~/.sbt/0.13/plugins/plugins.sbt" state=link force=yes

  - name: Deploying configuration file (ammonite)
    file: src="{{playbook_dir}}/predef.sc" dest="~/.ammonite/predef.sc" state=link force=yes
