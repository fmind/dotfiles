---

- name: package
  package: name='zsh'
  become: true
  tags: admin

- name: directories
  file: name='{{item}}' state='directory'
  with_items:
    - ~/.zsh.d/
    - ~/.zsh.d/themes
    - ~/.zsh.d/plugins
  tags: user

- name: profile
  file: src='{{role_path}}/files/zshenv' dest='~/.zshenv' state=link force=yes
  tags: user

- name: config
  file: src='{{role_path}}/files/zshrc' dest='~/.zshrc' state=link force=yes
  tags: user

- name: manager
  git: repo='https://github.com/robbyrussell/oh-my-zsh.git' dest='~/.oh-my-zsh' depth=1
  tags: user

- name: prompt
  git: repo='https://github.com/denysdovhan/spaceship-prompt.git' dest='~/.zsh.d/themes/spaceship-prompt' depth=1
  tags: user

- name: theme
  file: src='~/.zsh.d/themes/spaceship-prompt/spaceship.zsh-theme' dest='~/.zsh.d/themes/spaceship.zsh-theme' state=link force=yes
  tags: user
