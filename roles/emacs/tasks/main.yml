---

- name: package
  package:
    name: emacs-nox
  become: true
  tags: admin

- name: manager
  git:
    depth: 1
    dest: ~/.emacs.d
    repo: https://github.com/syl20bnr/spacemacs
  tags: user

- name: config
  git:
    depth: 1
    dest: ~/.spacemacs.d
    repo: https://github.com/fmind/spacemacs.d
  tags: user

- name: directory
  file:
    mode: 0700
    state: directory
    path: ~/.config/systemd/user/
  tags: user

- name: service
  file:
    force: yes
    state: link
    dest: ~/.config/systemd/user/emacs.service
    src: "{{ role_path }}/files/emacs.service"
  tags: user
