---

- name: package
  package: name='neovim'
  become: true
  tags: admin

- name: alternative
  alternatives: name='{{item}}' path='/usr/bin/nvim'
  with_items:
    - vim
    - vi
  become: true
  tags: admin

- name: directories
  file: path='{{item}}' state=directory
  with_items:
    - ~/.config/nvim/
    - ~/.local/share/nvim/site/autoload/
  tags: user

- name: library
  pip: name='pynvim' executable='pip3' extra_args='--user'
  tags: user

- name: config
  file: src='{{role_path}}/files/init.vim' dest='~/.config/nvim/init.vim' state=link force=yes
  tags: user

- name: manager
  get_url: url='https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim' dest='~/.local/share/nvim/site/autoload/plug.vim'
  tags: user
