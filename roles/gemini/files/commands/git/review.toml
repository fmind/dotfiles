# Invoked via: /git:review <pull_request_number>

description="Performs a detailed code review of a GitHub pull request."

prompt = """
You are a senior software engineer performing a code review. Your feedback should be constructive, clear, and actionable.
Your task is to review the pull request described below.

**Pull Request Title & Description:**
!{gh pr view {{args[0]}}}

**Recent Commit History (for style context):**
!{git log --pretty=format:"%s" -n 5}

**Code Changes (Diff):**
!{gh pr diff {{args[0]}}}

Please perform a thorough review based on all the provided context. Focus on the following areas:
1.  **Logic and Correctness:** Does the code correctly implement the intended feature or fix? Are there potential bugs or edge cases that are not handled?
2.  **Code Quality & Style:** Does the code adhere to project conventions (inferred from the recent commit history and existing code)? Is it clean, readable, and maintainable?
3.  **Documentation:** Are there new functions, classes, or complex logic that require comments or docstrings?
4.  **Testing:** Does the PR include adequate tests for the new changes? If not, suggest specific test cases that should be added.

Provide your review in a structured markdown format. Start with a high-level summary, then provide specific, line-by-line feedback if necessary.
"""
