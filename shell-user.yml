---

- hosts: localhost
  connection: local

  tasks:

  - name: Deploying ag configuration
    file: src="{{ansible_env.PWD}}/ag/{{item}}" dest="~/.{{item}}" state=link force=yes
    with_items:
    - agignore

  - name: Deploying zsh configuration
    file: src="{{ansible_env.PWD}}/zsh/{{item}}" dest="~/.{{item}}" state=link force=yes
    with_items:
    - zshrc
    - zsh.d
    - zshenv
    - inputrc

  - name: Deploying git configuration
    file: src="{{ansible_env.PWD}}/git/{{item}}" dest="~/.{{item}}" state=link force=yes
    with_items:
    - gitconfig
    - gitignore

  - name: Deploying byobu configuration
    file: src="{{ansible_env.PWD}}/byobu/{{item}}" dest="~/.byobu/{{item}}" state=link force=yes
    with_items:
      - backend
      - status
      - statusrc
      - keybindings.tmux

  - name: Deploying ansible configuration
    file: src="{{ansible_env.PWD}}/{{item}}" dest="~/.{{item}}" state=link force=yes
    with_items:
    - ansible.cfg

  - name: Cloning zsh repository
    git: repo=https://github.com/robbyrussell/oh-my-zsh.git dest=~/.oh-my-zsh depth=1

