---

- hosts: localhost
  connection: local

  tasks:

  - name: Cloning oh-my-zsh repository (zsh plugins)
    git: repo=https://github.com/robbyrussell/oh-my-zsh.git dest=~/.oh-my-zsh depth=1

  - name: Cloning spacemacs repository (emacs plugins)
    git: repo=https://github.com/syl20bnr/spacemacs dest="~/.emacs.d" depth=1

  - name: Deploying ansible configuration
    file: src="{{ansible_env.PWD}}/{{item}}" dest="~/.{{item}}" state=link force=yes
    with_items:
    - ansible.cfg

  - name: Deploying git configuration
    file: src="{{ansible_env.PWD}}/git/{{item}}" dest="~/.{{item}}" state=link force=yes
    with_items:
    - gitconfig
    - gitignore

  - name: Deploying zsh configuration
    file: src="{{ansible_env.PWD}}/zsh/{{item}}" dest="~/.{{item}}" state=link force=yes
    with_items:
    - zshrc
    - zsh.d
    - face.icon

  - name: Deploying emacs configuration
    file: src="{{ansible_env.PWD}}/emacs/{{item}}" dest="~/.{{item}}" state=link force=yes
    with_items:
    - spacemacs
    - spacemacs.d

  - name: Deploying vim configuration
    file: src="{{ansible_env.PWD}}/vim/{{item}}" dest="~/.{{item}}" state=link force=yes
    with_items:
    - vimrc
