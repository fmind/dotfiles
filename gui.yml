---

- hosts: localhost
  tasks:

  - name: Installing Fedy Installer
    get_url: dest=~/bin/fedy-installer mode=0700 url=http://folkswithhats.org/fedy-installer

  - name: Creating a gconf folder in $HOME
    file: path="~/.config/gconf/apps/" state=directory

  - name: Installing packages (gui)
    dnf: pkg="{{item}}" state=latest
    become: yes
    with_items:
      - anki
      - gimp
      - guake
      - emacs
      - unison
      - keepassx
      - gnome-tweak-tool

  - name: Deploying Guake configuration
    file: src="{{ansible_env.PWD}}/{{item.src}}" dest="{{item.dest}}" state=link force=yes
    with_items:
      - {src: "guake", dest: "~/.config/gconf/apps/guake"}
