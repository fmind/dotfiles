---

- hosts: localhost
  become: false

  tasks:

  - name: Creating neovim user directory
    file: path="~/.config/nvim/" state=directory

  - name: Creating neovim sub directories
    file: path="~/.config/nvim/{{item}}/" state=directory
    with_items:
      - undo
      - swap
      - spell
      - backup
      - session
      - plugged
      - autoload

  - name: Deploying neovim configuration
    file: src="{{playbook_dir}}/init.vim" dest="~/.config/nvim/init.vim" state=link force=yes

  - name: Deploying neovim snippet files
    file: src="{{playbook_dir}}/snippets" dest="~/.config/nvim/snippets" state=link force=yes

  - name: Installing neovim plugin manager
    get_url: url="https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim" dest="~/.config/nvim/autoload/plug.vim" mode=0600
