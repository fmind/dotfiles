---

- hosts: localhost
  become: true

  tasks:

  - name: Installing vim (ubuntu + display)
    apt: pkg="vim-gtk" state=latest
    when: lookup('env', 'DISPLAY') and
          ansible_distribution == 'Ubuntu'

  - name: Installing vim (ubuntu + console)
    apt: pkg="vim-X11" state=latest
    when: not lookup('env', 'DISPLAY') and
          ansible_distribution == 'Ubuntu'

  - name: Installing vim (fedora + display)
    dnf: pkg="vim" state=latest
    when: lookup('env', 'DISPLAY') and
          ansible_distribution == 'Fedora'

  - name: Installing vim (fedora + console)
    dnf: pkg="vim" state=latest
    when: not lookup('env', 'DISPLAY') and
          ansible_distribution == 'Fedora'
