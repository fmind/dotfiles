---

- hosts: localhost
  become: false

  tasks:

  - name: creating vim user directory
    file: path="~/.vim/" state=directory

  - name: creating vim sub directories
    file: path="~/.vim/{{item}}/" state=directory
    with_items:
      - undo
      - swap
      - spell
      - backup
      - session
      - plugged
      - autoload

  - name: deploying vim configuration
    file: src="{{playbook_dir}}/vimrc" dest="~/.vimrc" state=link force=yes

  - name: installing vim plugin manager
    get_url: url="https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim" dest="~/.vim/autoload/plug.vim" mode=0600
