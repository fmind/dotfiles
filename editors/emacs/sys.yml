---

- hosts: localhost
  become: true

  tasks:

  - name: installing emacs (display)
    dnf: pkg="emacs" state=latest
    when: lookup('env', 'DISPLAY')

  - name: installing emacs (console)
    dnf: pkg="emacs-nox" state=latest
    when: not lookup('env', 'DISPLAY')
