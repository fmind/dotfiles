---

- hosts: localhost
  become: yes

  tasks:

#  - name: Adding Docker certkey
#    apt_key: keyserver="hkp://pgp.mit.edu:80" id="58118E89F3A912897C070ADBF76221572C52609D"
#    become: yes

  - name: Adding Docker repository
    apt_repository: repo="deb https://apt.dockerproject.org/repo ubuntu-xenial main" update_cache=yes

  - name: Adding Oracle Java repository
    apt_repository: repo="ppa:webupd8team/java" update_cache=yes

  - name: Accepting Oracle License (java)
    shell: echo debconf shared/accepted-oracle-license-v1-1 select true | sudo debconf-set-selections

  - name: Installing ubuntu deps
    apt: pkg="{{item}}" state=latest
    with_items:
      - rlwrap
      - gfortran
      - libxft-dev
      - libffi-dev
      - libblas-dev
      - libpng12-dev
      - liblapack-dev
      - libfreetype6-dev
      - libatlas-base-dev
      - libssl-dev
      - libxml2-dev
      - libxslt1-dev
      - python3-dev
      - python3-setuptools

  - name: Installing ubuntu packages
    apt: pkg="{{item}}" state=latest
    with_items:
      - python3
      - graphviz
      - docker-engine
      - build-essential
      - exuberant-ctags
      - oracle-java8-installer
