---

- hosts: localhost
  connection: local
  become: yes

  tasks:

  - name: Adding java repository
    apt_repository: repo="ppa:webupd8team/java" update_cache=yes
    when: ansible_distribution == 'Ubuntu'

  - name: Adding docker repository
    apt_repository: repo="deb https://apt.dockerproject.org/repo ubuntu-xenial main" update_cache=yes
    when: ansible_distribution == 'Ubuntu'

  - name: Adding docker certificate
    apt_key: url="https://apt.dockerproject.org/gpg"
    when: ansible_distribution == 'Ubuntu'

  - name: Installing system packages
    apt: pkg="{{item}}" state=latest
    with_items:
      - jq
      - cloc
      - cmake
      - global
      - rlwrap
      - graphviz
      - docker-engine
      - build-essential
      - exuberant-ctags
      - oracle-java8-installer
    when: ansible_distribution == 'Ubuntu'

  - name: Accepting java license
    shell: echo debconf shared/accepted-oracle-license-v1-1 select true | sudo debconf-set-selections
    when: ansible_distribution == 'Ubuntu'

